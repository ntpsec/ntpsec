<html lang="en">
<head>
<title>NTP Symmetric Key</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="NTP Symmetric Key">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<h1 class="settitle">NTP Symmetric Key</h1>
<div class="node">
<p><hr>
<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-Description">ntp.keys Description</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
<br>
</div>

<h2 class="unnumbered">NTP's Symmetric Key File User Manual</h2>

<p>This document describes the symmetric key file for the NTP Project's
<code>ntpd</code> program.

  <p>This document applies to version 4.2.7p335 of <code>ntp.keys</code>.

            <div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<a href="#Top">NTP's Symmetric Key File User Manual</a>
</ul>
</div>

<ul class="menu">
<li><a accesskey="1" href="#ntp_002ekeys-Description">ntp.keys Description</a>
<li><a accesskey="2" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>
</ul>

<div class="node">
<p><hr>
<a name="ntp_002ekeys-Description"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
<br>
</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">Description</h3>

<p>The name and location of the symmetric key file for <code>ntpd</code> can
be specified in a configuration file, by default <code>/etc/ntp.keys</code>.

<div class="node">
<p><hr>
<a name="ntp_002ekeys-Invocation"></a>
<br>
</div>

<h3 class="section">Invoking ntp.keys</h3>

<p><a name="index-ntp_002ekeys-1"></a><a name="index-NTP-symmetric-key-file-format-2"></a>

  <p>This document describes the format of an NTP symmetric key file. 
For a description of the use of this type of file, see the
.Qq
Authentication
Support
section of the
<code>ntp.conf(5)</code>
page.

  <p><code>ntpd(8)</code>
reads its keys from a file specified using the
<code>-k</code> command line option or the
.Ic
keys
statement in the configuration file. 
While key number 0 is fixed by the NTP standard
(as 56 zero bits)
and may not be changed,
one or more keys numbered between 1 and 65534
may be arbitrarily set in the keys file.

  <p>The key file uses the same comment conventions
as the configuration file. 
Key entries use a fixed format of the form

  <p>.D1
Ar
keyno
type
key

  <p>where
.Ar
keyno
is a positive integer (between 1 and 65534),
.Ar
type
is the message digest algorithm,
and
.Ar
key
is the key itself.

  <p>The
.Ar
key
may be given in a format
controlled by the
.Ar
type
field. 
The
.Ar
type
.Li
MD5
is always supported. 
If
.Li
ntpd
was built with the OpenSSL library
then any digest library supported by that library may be specified. 
However, if compliance with FIPS 140-2 is required the
.Ar
type
must be either
.Li
SHA
or
.Li
SHA1
.

  <p>What follows are some key types, and corresponding formats:

     <dl>
<dt><span class="samp">Li</span><dd>The key is 1 to 16 printable characters terminated by
an EOL,
whitespace,
or
a
.Li
#
(which is the "start of comment" character).

     <br><dt><span class="samp">Li</span><br><dt><span class="samp">Li</span><br><dt><span class="samp">Li</span><dd>The key is a hex-encoded ASCII string of 40 characters,
which is truncated as necessary.

     <p>Note that the keys used by the
<code>ntpq(8)</code>
and
<code>ntpdc(8)</code>
programs are checked against passwords
requested by the programs and entered by hand,
so it is generally appropriate to specify these keys in ASCII format.

     <p>This section was generated by <strong>AutoGen</strong>,
using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp.keys</code> program. 
This software is released under the NTP license, &lt;http://ntp.org/license&gt;.

     <ul class="menu">
<li><a accesskey="1" href="#ntp_002ekeys-usage">ntp.keys usage</a>:                   ntp.keys help/usage (<span class="option">--help</span>)
<li><a accesskey="2" href="#ntp_002ekeys-config">ntp.keys config</a>:                  presetting/configuring ntp.keys
<li><a accesskey="3" href="#ntp_002ekeys-exit-status">ntp.keys exit status</a>:             exit status
<li><a accesskey="4" href="#ntp_002ekeys-Files">ntp.keys Files</a>:                   Files
<li><a accesskey="5" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>:                See Also
<li><a accesskey="6" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>:                   Notes
</ul>

<div class="node">
<p><hr>
<a name="ntp_002ekeys-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-config">ntp.keys config</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">ntp.keys help/usage (<span class="option">--help</span>)</h4>

     <p><a name="index-ntp_002ekeys-help-3"></a>
This is the automatically generated usage text for ntp.keys.

       <p>The text printed is the same whether selected with the <code>help</code> option
(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
the usage text by passing it through a pager program. 
<code>more-help</code> is disabled on platforms without a working
<code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
used to select the program, defaulting to <span class="file">more</span>.  Both will exit
with a status code of 0.

     <pre class="example">     ntp.keys is unavailable - no --help
</pre>
       <div class="node">
<p><hr>
<a name="ntp_002ekeys-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-exit-status">ntp.keys exit status</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-usage">ntp.keys usage</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">presetting/configuring ntp.keys</h4>

     <p>Any option that is not marked as <i>not presettable</i> may be preset by
loading values from environment variables named <code>NTP.KEYS</code> and <code>NTP.KEYS_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
the options listed above in upper case and segmented with underscores. 
The <code>NTP.KEYS</code> variable will be tokenized and parsed like
the command line.  The remaining variables are tested for existence and their
values are treated like option arguments.

       <p>The command line options relating to configuration and/or usage help are:

<h5 class="subsubheading">version</h5>

     <p>Print the program version to standard out, optionally with licensing
information, then exit 0.  The optional argument specifies how much licensing
detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.  Only the
first letter of the argument is examined:

          <dl>
<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
</dl>

<div class="node">
<p><hr>
<a name="ntp_002ekeys-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-Files">ntp.keys Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-config">ntp.keys config</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">ntp.keys exit status</h4>

     <p>One of the following exit values will be returned:
          <dl>
<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
</dl>
       <div class="node">
<p><hr>
<a name="ntp_002ekeys-Files"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-exit-status">ntp.keys exit status</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">ntp.keys Files</h4>

          <dl>
<dt><span class="samp">Pa</span><dd>the default name of the configuration file

<div class="node">
<p><hr>
<a name="ntp_002ekeys-See-Also"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-Files">ntp.keys Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">ntp.keys See Also</h4>

          <p><code>ntp.conf(5)</code>,
<code>ntpd(1ntpdmdoc)</code>,
<code>ntpdate(1ntpdatemdoc)</code>,
<code>ntpdc(1ntpdcmdoc)</code>,
<code>sntp(1sntpmdoc)</code>
<div class="node">
<p><hr>
<a name="ntp_002ekeys-Notes"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Invocation">ntp.keys Invocation</a>
<br>
</div>

<h4 class="subsection">ntp.keys Notes</h4>

          <p>This document corresponds to version  of NTP. 
This document was derived from FreeBSD.

</body></html>

