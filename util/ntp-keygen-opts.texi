@node ntp-keygen Invocation
@section Invoking ntp-keygen
@pindex ntp-keygen
@cindex Create a NTP host key
@ignore
# 
# EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.texi)
# 
# It has been AutoGen-ed  February 24, 2012 at 11:35:34 AM by AutoGen 5.14
# From the definitions    ntp-keygen-opts.def
# and the template file   aginfo.tpl
@end ignore



This section was generated by @strong{AutoGen},
the aginfo template and the option descriptions for the @command{ntp-keygen} program.  It documents the @command{ntp-keygen} usage text and option meanings.

This software is released under a specialized copyright license.

@menu
* ntp-keygen usage::                  ntp-keygen usage help (-?)
* ntp-keygen certificate::           certificate option (-c)
* ntp-keygen cipher::                cipher option (-C)
* ntp-keygen debug-level::           debug-level option (-d)
* ntp-keygen get-pvt-passwd::        get-pvt-passwd option (-q)
* ntp-keygen gq-params::             gq-params option (-G)
* ntp-keygen host-key::              host-key option (-H)
* ntp-keygen id-key::                id-key option (-e)
* ntp-keygen ident::                 ident option (-i)
* ntp-keygen iffkey::                iffkey option (-I)
* ntp-keygen lifetime::              lifetime option (-l)
* ntp-keygen md5key::                md5key option (-M)
* ntp-keygen modulus::               modulus option (-m)
* ntp-keygen mv-keys::               mv-keys option (-v)
* ntp-keygen mv-params::             mv-params option (-V)
* ntp-keygen pvt-cert::              pvt-cert option (-P)
* ntp-keygen pvt-passwd::            pvt-passwd option (-p)
* ntp-keygen set-debug-level::       set-debug-level option (-D)
* ntp-keygen sign-key::              sign-key option (-S)
* ntp-keygen subject-name::          subject-name option (-s)
* ntp-keygen trusted-cert::          trusted-cert option (-T)
@end menu

@node ntp-keygen usage
@subsection ntp-keygen usage help (-?)
@cindex ntp-keygen-usage

This is the automatically generated usage text for ntp-keygen:

@exampleindent 0
@example
ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.7p260
USAGE:  ntp-keygen [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...
  Flg Arg Option-Name    Description
   -c Str certificate    certificate scheme
   -C Str cipher         privatekey cipher
   -d no  debug-level    Increase debug verbosity level
                                - may appear multiple times
   -D Str set-debug-level Set the debug verbosity level
                                - may appear multiple times
   -e no  id-key         Write IFF or GQ identity keys
   -G no  gq-params      Generate GQ parameters and keys
   -H no  host-key       generate RSA host key
   -I no  iffkey         generate IFF parameters
   -i Str ident          set Autokey group name
   -l Num lifetime       set certificate lifetime
   -M no  md5key         generate MD5 keys
   -m Num modulus        modulus
                                - It must be in the range:
                                  256 to 2048
   -P no  pvt-cert       generate PC private certificate
   -p Str pvt-passwd     output private password
   -q Str get-pvt-passwd input private password
   -S Str sign-key       generate sign key (RSA or DSA)
   -s Str subject-name   set host and optionally group name
   -T no  trusted-cert   trusted certificate (TC scheme)
   -V Num mv-params      generate <num> MV parameters
   -v Num mv-keys        update <num> MV keys
      opt version        Output version information and exit
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager
   -> opt save-opts      Save the option state to a config file
   -< Str load-opts      Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.



The following option preset mechanisms are supported:
 - reading file $HOME/.ntprc
 - reading file ./.ntprc
 - examining environment variables named NTP_KEYGEN_*

please send bug reports to:  http://bugs.ntp.org, bugs@@ntp.org
@end example
@exampleindent 4

@node ntp-keygen certificate
@subsection certificate option (-c)
@cindex ntp-keygen-certificate

This is the ``certificate scheme'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

scheme is one of
RSA-MD2, RSA-MD5, RSA-SHA, RSA-SHA1, RSA-MDC2, RSA-RIPEMD160,
DSA-SHA, or DSA-SHA1.

Select the certificate message digest/signature encryption scheme.
Note that RSA schemes must be used with a RSA sign key and DSA
schemes must be used with a DSA sign key.  The default without
this option is RSA-MD5.

@node ntp-keygen cipher
@subsection cipher option (-C)
@cindex ntp-keygen-cipher

This is the ``privatekey cipher'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Select the cipher which is used to encrypt the files containing
private keys.  The default is three-key triple DES in CBC mode,
equivalent to "-C des-ede3-cbc".  The openssl tool lists ciphers
available in "openssl -h" output.

@node ntp-keygen debug-level
@subsection debug-level option (-d)
@cindex ntp-keygen-debug-level

This is the ``increase debug verbosity level'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
may appear an unlimited number of times.
@end itemize



@node ntp-keygen get-pvt-passwd
@subsection get-pvt-passwd option (-q)
@cindex ntp-keygen-get-pvt-passwd

This is the ``input private password'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Set the password for reading files to the specified password.

@node ntp-keygen gq-params
@subsection gq-params option (-G)
@cindex ntp-keygen-gq-params

This is the ``generate gq parameters and keys'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate parameters and keys for the GQ identification scheme,
obsoleting any that may exist.

@node ntp-keygen host-key
@subsection host-key option (-H)
@cindex ntp-keygen-host-key

This is the ``generate rsa host key'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate new host keys, obsoleting any that may exist.

@node ntp-keygen id-key
@subsection id-key option (-e)
@cindex ntp-keygen-id-key

This is the ``write iff or gq identity keys'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Write the IFF or GQ client keys to the standard output.  This is
intended for automatic key distribution by mail.

@node ntp-keygen ident
@subsection ident option (-i)
@cindex ntp-keygen-ident

This is the ``set autokey group name'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Set the optional Autokey group name to name.  This is used in
the file name of IFF, GQ, and MV client parameters files.  In
that role, the default is the host name if this option is not
provided.  The group name, if specified using -i/--ident or
using -s/--subject-name following an '@' character, is also a
part of the self-signed host certificate's subject and issuer
names in the form host@group and should match the 'crypto ident'
or 'server ident' configuration in ntpd's configuration file. 

@node ntp-keygen iffkey
@subsection iffkey option (-I)
@cindex ntp-keygen-iffkey

This is the ``generate iff parameters'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate parameters for the IFF identification scheme, obsoleting
any that may exist.

@node ntp-keygen lifetime
@subsection lifetime option (-l)
@cindex ntp-keygen-lifetime

This is the ``set certificate lifetime'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Set the certificate expiration to lifetime days from now.

@node ntp-keygen md5key
@subsection md5key option (-M)
@cindex ntp-keygen-md5key

This is the ``generate md5 keys'' option.
Generate MD5 keys, obsoleting any that may exist.

@node ntp-keygen modulus
@subsection modulus option (-m)
@cindex ntp-keygen-modulus

This is the ``modulus'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

The number of bits in the prime modulus.  The default is 512.

@node ntp-keygen mv-keys
@subsection mv-keys option (-v)
@cindex ntp-keygen-mv-keys

This is the ``update <num> mv keys'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

This option has no @samp{doc} documentation.

@node ntp-keygen mv-params
@subsection mv-params option (-V)
@cindex ntp-keygen-mv-params

This is the ``generate <num> mv parameters'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate parameters and keys for the Mu-Varadharajan (MV)
identification scheme.

@node ntp-keygen pvt-cert
@subsection pvt-cert option (-P)
@cindex ntp-keygen-pvt-cert

This is the ``generate pc private certificate'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate a private certificate.  By default, the program generates
public certificates.

@node ntp-keygen pvt-passwd
@subsection pvt-passwd option (-p)
@cindex ntp-keygen-pvt-passwd

This is the ``output private password'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Encrypt generated files containing private data with the specified
password and the cipher selected with -C/--cipher.

@node ntp-keygen set-debug-level
@subsection set-debug-level option (-D)
@cindex ntp-keygen-set-debug-level

This is the ``set the debug verbosity level'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
may appear an unlimited number of times.
@end itemize



@node ntp-keygen sign-key
@subsection sign-key option (-S)
@cindex ntp-keygen-sign-key

This is the ``generate sign key (rsa or dsa)'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate a new sign key of the designated type, obsoleting any
that may exist.  By default, the program uses the host key as the
sign key.

@node ntp-keygen subject-name
@subsection subject-name option (-s)
@cindex ntp-keygen-subject-name

This is the ``set host and optionally group name'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Set the Autokey host name, and optionally, group name specified
following an '@' character.  The host name is used in the file
name of generated host and signing certificates, without the
group name.  The host name, and if provided, group name are used
in host@group form for the host certificate's subject and issuer
fields.  Specifying '-s @group' is allowed, and results in
leaving the host name unchanged while appending @group to the
subject and issuer fields, as with -i group.  The group name, or
if not provided, the host name are also used in the file names
of IFF, GQ, and MV client parameter files.

@node ntp-keygen trusted-cert
@subsection trusted-cert option (-T)
@cindex ntp-keygen-trusted-cert

This is the ``trusted certificate (tc scheme)'' option.

This option has some usage constraints.  It:
@itemize @bullet
@item
must be compiled in by defining @code{AUTOKEY} during the compilation.
@end itemize

Generate a trusted certificate.  By default, the program generates
a non-trusted certificate.
