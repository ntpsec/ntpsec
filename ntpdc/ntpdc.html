<html lang="en">
<head>
<title>ntpdc: NTPD Control User's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="ntpdc: NTPD Control User's Manual">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<h1 class="settitle">ntpdc: NTPD Control User's Manual</h1>
<div class="node">
<p><hr>
<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-Description">ntpdc Description</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
<br>
</div>

<h2 class="unnumbered">ntpdc: NTPD Control User Manual</h2>

<p>This document describes the use of the NTP Project's <code>ntpdc</code> program,
that can be used to query a Network Time Protocol (NTP) server and
display the time offset of the system clock relative to the server
clock.  Run as root, it can correct the system clock to this offset as
well.  It can be run as an interactive command or from a cron job.

  <p>This document applies to version 4.2.7p238 of <code>ntpdc</code>.

  <p>The program implements the SNTP protocol as defined by RFC 5905, the NTPv4
IETF specification.

  <div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<a href="#Top">ntpdc: NTPD Control User Manual</a>
</ul>
</div>

<ul class="menu">
<li><a accesskey="1" href="#ntpdc-Description">ntpdc Description</a>:             Description
<li><a accesskey="2" href="#ntpdc-Invocation">ntpdc Invocation</a>: 		Invoking ntpdc
<li><a accesskey="3" href="#Usage">Usage</a>:                        Usage
</ul>

<div class="node">
<p><hr>
<a name="ntpdc-Description"></a>
<br>
</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">Description</h3>

<p>By default, <code>ntpdc</code> writes the local data and time (i.e., not UTC) to the
standard output in the format:

<pre class="example">     1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 secs
</pre>
  <p>where
YYYY-MM-DD HH:MM:SS.SUBSEC is the local date and time,
(+0800) is the local timezone adjustment (so we would add 8 hours and 0 minutes to convert the reported local time to UTC),
and
the +4.567 +/- 0.089 secs indicates the time offset and
error bound of the system clock relative to the server clock.

<div class="node">
<p><hr>
<a name="ntpdc-Invocation"></a>
<br>
</div>

<h3 class="section">Invoking ntpdc</h3>

<p><a name="index-ntpdc-1"></a><a name="index-vendor_002dspecific-NTPD-control-program-2"></a>

  <p>This section was generated by <strong>AutoGen</strong>,
the aginfo template and the option descriptions for the <span class="command">ntpdc</span> program.  It documents the <span class="command">ntpdc</span> usage text and option meanings.

  <p>This software is released under a specialized copyright license.

<ul class="menu">
<li><a accesskey="1" href="#ntpdc-usage">ntpdc usage</a>:                   ntpdc usage help (-?) 
<li><a accesskey="2" href="#ntpdc-command">ntpdc command</a>:                command option (-c)
<li><a accesskey="3" href="#ntpdc-debug_002dlevel">ntpdc debug-level</a>:            debug-level option (-d)
<li><a accesskey="4" href="#ntpdc-interactive">ntpdc interactive</a>:            interactive option (-i)
<li><a accesskey="5" href="#ntpdc-ipv4">ntpdc ipv4</a>:                   ipv4 option (-4)
<li><a accesskey="6" href="#ntpdc-ipv6">ntpdc ipv6</a>:                   ipv6 option (-6)
<li><a accesskey="7" href="#ntpdc-listpeers">ntpdc listpeers</a>:              listpeers option (-l)
<li><a accesskey="8" href="#ntpdc-numeric">ntpdc numeric</a>:                numeric option (-n)
<li><a accesskey="9" href="#ntpdc-peers">ntpdc peers</a>:                  peers option (-p)
<li><a href="#ntpdc-set_002ddebug_002dlevel">ntpdc set-debug-level</a>:        set-debug-level option (-D)
<li><a href="#ntpdc-showpeers">ntpdc showpeers</a>:              showpeers option (-s)
</ul>

<div class="node">
<p><hr>
<a name="ntpdc-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-command">ntpdc command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">ntpdc usage help (-?)</h4>

<p><a name="index-ntpdc-usage-3"></a>
This is the automatically generated usage text for ntpdc:

<pre class="example">ntpdc - vendor-specific NTPD control program - Ver. 4.2.7p238
USAGE:  ntpdc [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [ host ...]
  Flg Arg Option-Name    Description
   -4 no  ipv4           Force IPv4 DNS name resolution
                                - prohibits these options:
                                ipv6
   -6 no  ipv6           Force IPv6 DNS name resolution
                                - prohibits these options:
                                ipv4
   -c Str command        run a command and exit
                                - may appear multiple times
   -d no  debug-level    Increase debug verbosity level
                                - may appear multiple times
   -D Str set-debug-level Set the debug verbosity level
                                - may appear multiple times
   -i no  interactive    Force ntpq to operate in interactive mode
                                - prohibits these options:
                                command
                                listpeers
                                peers
                                showpeers
   -l no  listpeers      Print a list of the peers
                                - prohibits these options:
                                command
   -n no  numeric        numeric host addresses
   -p no  peers          Print a list of the peers
                                - prohibits these options:
                                command
   -s no  showpeers      Show a list of the peers
                                - prohibits these options:
                                command
      opt version        Output version information and exit
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager
   -&gt; opt save-opts      Save the option state to a config file
   -&lt; Str load-opts      Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.



The following option preset mechanisms are supported:
 - reading file $HOME/.ntprc
 - reading file ./.ntprc
 - examining environment variables named NTPDC_*

please send bug reports to:  http://bugs.ntp.org, bugs@ntp.org
</pre>
  <div class="node">
<p><hr>
<a name="ntpdc-command"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-debug_002dlevel">ntpdc debug-level</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-usage">ntpdc usage</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">command option (-c)</h4>

<p><a name="index-ntpdc_002dcommand-4"></a>
This is the &ldquo;run a command and exit&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>may appear an unlimited number of times. 
</ul>

  <p>The following argument is interpreted as an interactive format command
and is added to the list of commands to be executed on the specified
host(s).

<div class="node">
<p><hr>
<a name="ntpdc-debug_002dlevel"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-interactive">ntpdc interactive</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-command">ntpdc command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">debug-level option (-d)</h4>

<p><a name="index-ntpdc_002ddebug_002dlevel-5"></a>
This is the &ldquo;increase debug verbosity level&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>may appear an unlimited number of times. 
</ul>

<div class="node">
<p><hr>
<a name="ntpdc-interactive"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-ipv4">ntpdc ipv4</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-debug_002dlevel">ntpdc debug-level</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">interactive option (-i)</h4>

<p><a name="index-ntpdc_002dinteractive-6"></a>
This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
command, listpeers, peers, showpeers. 
</ul>

  <p>Force ntpq to operate in interactive mode.  Prompts will be written
to the standard output and commands read from the standard input.

<div class="node">
<p><hr>
<a name="ntpdc-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-ipv6">ntpdc ipv6</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-interactive">ntpdc interactive</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">ipv4 option (-4)</h4>

<p><a name="index-ntpdc_002dipv4-7"></a>
This is the &ldquo;force ipv4 dns name resolution&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
ipv6. 
</ul>

  <p>Force DNS resolution of following host names on the command line
to the IPv4 namespace.

<div class="node">
<p><hr>
<a name="ntpdc-ipv6"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-listpeers">ntpdc listpeers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-ipv4">ntpdc ipv4</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">ipv6 option (-6)</h4>

<p><a name="index-ntpdc_002dipv6-8"></a>
This is the &ldquo;force ipv6 dns name resolution&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
ipv4. 
</ul>

  <p>Force DNS resolution of following host names on the command line
to the IPv6 namespace.

<div class="node">
<p><hr>
<a name="ntpdc-listpeers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-numeric">ntpdc numeric</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-ipv6">ntpdc ipv6</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">listpeers option (-l)</h4>

<p><a name="index-ntpdc_002dlistpeers-9"></a>
This is the &ldquo;print a list of the peers&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
command. 
</ul>

  <p>Print a list of the peers known to the server as well as a summary of
their state. This is equivalent to the 'listpeers' interactive command.

<div class="node">
<p><hr>
<a name="ntpdc-numeric"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-peers">ntpdc peers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-listpeers">ntpdc listpeers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">numeric option (-n)</h4>

<p><a name="index-ntpdc_002dnumeric-10"></a>
This is the &ldquo;numeric host addresses&rdquo; option. 
Output all host addresses in dotted-quad numeric format rather than
converting to the canonical host names.

<div class="node">
<p><hr>
<a name="ntpdc-peers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-set_002ddebug_002dlevel">ntpdc set-debug-level</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-numeric">ntpdc numeric</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">peers option (-p)</h4>

<p><a name="index-ntpdc_002dpeers-11"></a>
This is the &ldquo;print a list of the peers&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
command. 
</ul>

  <p>Print a list of the peers known to the server as well as a summary
of their state. This is equivalent to the 'peers' interactive command.

<div class="node">
<p><hr>
<a name="ntpdc-set_002ddebug_002dlevel"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-showpeers">ntpdc showpeers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-peers">ntpdc peers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">set-debug-level option (-D)</h4>

<p><a name="index-ntpdc_002dset_002ddebug_002dlevel-12"></a>
This is the &ldquo;set the debug verbosity level&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>may appear an unlimited number of times. 
</ul>

<div class="node">
<p><hr>
<a name="ntpdc-showpeers"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-set_002ddebug_002dlevel">ntpdc set-debug-level</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
<br>
</div>

<h4 class="subsection">showpeers option (-s)</h4>

<p><a name="index-ntpdc_002dshowpeers-13"></a>
This is the &ldquo;show a list of the peers&rdquo; option.

  <p>This option has some usage constraints.  It:
     <ul>
<li>must not appear in combination with any of the following options:
command. 
</ul>

  <p>Print a list of the peers known to the server as well as a summary
of their state. This is equivalent to the 'dmpeers' interactive command.

<div class="node">
<p><hr>
<a name="Usage"></a>
<br>
</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">Usage</h3>

<p>The simplest use of this program is as an unprivileged command to
check the current time, offset, and error in the local clock. 
For example:

<pre class="example">    ntpdc ntpserver.somewhere
</pre>
  <p>With suitable privilege, it can be run as a command or in a
<code>cron</code> job to reset the local clock from a reliable server, like
the <code>ntpdate</code> and <code>rdate</code> commands. 
For example:

<pre class="example">    ntpdc -a ntpserver.somewhere
</pre>
  </body></html>

